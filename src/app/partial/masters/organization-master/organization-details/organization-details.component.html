<div class="container-fluid">
    <div class="row chartbox">
        <div class="col-sm-12">
            <div class="card">
                <div class="card-header pt-3">
                    <h5>Maharashtra State Committee</h5>
                </div>
                <div class="card-body">
                    <div class="row">
                        <div class="col-sm-4 border-end">
                            <p>Current Designated Members</p>
                            <table class="table table-hover">
                                <thead>
                                    <tr>
                                        <th>Sr. No.</th>
                                        <th>Designation</th>
                                        <th>Member Name</th>
                                        <th>Device</th>
                                        <th></th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr *ngFor="let designatedMembers of allDesignatedMembers">
                                       <td>{{designatedMembers.SrNo}}</td>
                                       <td>{{designatedMembers.DesignationName}}</td>
                                       <td>{{designatedMembers.MemberName}}</td>
                                       <td>
                                           <ng-container *ngIf="designatedMembers.DeviceType == 1">
                                            <img  src="assets/images/dashboard-images/Android_robot.svg" class="border-0">
                                           </ng-container>
                                           <ng-container *ngIf="designatedMembers.DeviceType == 2">
                                           <img  src="assets/images/dashboard-images/Apple_logo.svg" class="border-0">
                                           </ng-container>
                                           <ng-container *ngIf="designatedMembers.DeviceType != 2 && designatedMembers.DeviceType != 1">
                                            No Device
                                            </ng-container>
                                       </td>
                                    </tr>
                                </tbody>
                            </table>
                            <hr />
                            <p >Previous Designated Members
                                <!-- {{this.getPreviousDesignatedMembers(bodyId, designationName.DesignationId)}} -->

                            </p>
                            <table class="table">
                                <tbody>
                                    <tr *ngFor="let  designationName of DesignationNameBYBodyId; let i = index">
                                        <th colspan="2" class="text-center bg-light">{{designationName.DesignationName}}</th>
                                       
                                        <div *ngFor="let desMembers of getPreDesMembersArray[i]">
                                            <td><a>{{desMembers.MemberName}}</a></td>
                                            <td>{{desMembers.PostFromDate}} - {{desMembers.PostToDate == null ? 'Till Date' : desMembers.PostToDate}}</td>
                                        </div>
                                    </tr>
                                    <!-- {{getPreDesMembersArray.length}} -->
                                    <!-- <tr *ngFor="let desMembers of getPreDesMembersArray[0]">
                                        <td><a>{{desMembers.MemberName}}</a></td>
                                        <td>{{desMembers.PostFromDate}} - {{desMembers.PostToDate == null ? 'Till Date' : desMembers.PostToDate}}</td>
                                    </tr> -->
                                    <!-- <tr *ngFor="let desMembers of getPreDesMembersArray[1]">
                                        <td><a>{{desMembers.MemberName}}</a></td>
                                        <td>{{desMembers.PostFromDate}} - {{desMembers.PostToDate == null ? 'Till Date' : desMembers.PostToDate}}</td>
                                    </tr>
                                    <tr *ngFor="let desMembers of getPreDesMembersArray[2]">
                                        <td><a>{{desMembers.MemberName}}</a></td>
                                        <td>{{desMembers.PostFromDate}} - {{desMembers.PostToDate == null ? 'Till Date' : desMembers.PostToDate}}</td>
                                    </tr> -->
                                </tbody>
                            </table>
                        </div>
                        <div class="col-sm-8">
                            <div class="row mb-3">
                                <div class="col-sm-4 offset-4">
                                    <ngx-select [allowClear]="true" [items]="bodyMemberFilterDetails" optionValueField="ID" optionTextField="FullName" placeholder="Select Member Name">
                                    </ngx-select>
                                </div>
                                <div class="col-sm-4">
                                    <ngx-select [allowClear]="true" [items]="items" placeholder="Select Work Type">
                                    </ngx-select>
                                </div>
                            </div>

                            <div class="row" id="dash-stats">
                                <div class="col-sm-3">
                                    <div class="card card-body bg-cyan">
                                        <i class="fas fa-network-wired"></i>
                                        <p>Work Done</p>
                                        <h3>{{TotalWorkAndIosCount?.TotalWork}}</h3>
                                    </div>
                                </div>
                                <div class="col-sm-3">
                                    <div class="card card-body bg-green">
                                        <i class="fab fa-apple"></i>
                                        <p>iOS Downloads</p>
                                        <h3>{{TotalWorkAndIosCount?.TotalAndroid}}</h3>
                                    </div>
                                </div>
                                <div class="col-sm-3">
                                    <div class="card card-body bg-blue">
                                        <i class="fab fa-android"></i>
                                        <p>Android Downloads</p>
                                        <h3>{{TotalWorkAndIosCount?.TotaliOs}}</h3>
                                    </div>
                                </div>
                            </div>

                            <table class="table table-hover">
                                <thead>
                                    <tr>
                                        <th scope="col">#</th>
                                        <th scope="col">Work Date</th>
                                        <th scope="col">Member Name</th>
                                        <th scope="col">Work Type</th>
                                        <th scope="col">Title</th>
                                        <th scope="col">Photos</th>
                                        <th scope="col"></th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr *ngFor="let bodyMemActivity of resBodyMemAct; let i = index">
                                        <td>{{i+1}}</td>
                                        <td>{{bodyMemActivity.ActivityDate}}</td>
                                        <td>{{bodyMemActivity.UserFName}}{{bodyMemActivity.UserLName}}</td>
                                        <td>Political Work</td>
                                        <td>{{bodyMemActivity.Title}}</td>
                                        <td *ngFor="let img of bodyMemActivity.ImagePath.split(',')">
                                            <img src="{{img}}">
                                        </td>
                                        <!-- <td *ngFor="let imges of bodyMemActivity.split(); let i = index">
                                            {{imges[i]}}
                                            <a href="#" data-bs-toggle="modal" data-bs-target="#PhotoGalleryModal"><img src="assets/images/dashboard-images/ncplogo.png" /></a>
                                            <a href="#" data-bs-toggle="modal" data-bs-target="#PhotoGalleryModal"><img src="assets/images/dashboard-images/ncplogo.png" /></a>
                                        </td> -->
                                        <td>
                                            <button class="btn btn-sm btn-light" data-bs-toggle="modal" data-bs-target="#ViewDetailsModal"><i class="far fa-eye"></i></button>
                                        </td>
                                    </tr>
                                   
                                </tbody>
                            </table>

                            <p>Individual Members Progress</p>
                            <div class="h-400 membersProBarChart">

                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>


<!-- Modal for Add/Update/Delete Member for any Designation -->
<div class="modal fade" id="AddMemberModal" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" aria-labelledby="AddMemberModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
            <form [formGroup]="bodyMember">
            <div class="modal-header">
                <p class="modal-title" id="AddMemberModalLabel">Add Member</p>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body" style="height: 305px">
                <div class="form-container">
                    <div class="mb-3">
                      
                            <label for="txtMemberName" class="form-label">Body Name</label>
                            <label for="txtMemberName" class="form-label">Member Name</label>
                            <ngx-select  [allowClear]="true" [items]="resAllMember" formControlName="bodyId" optionValueField="id" optionTextField="fullname"  (select)="getBodyMemberDetails(this.bodyMember.value.bodyId)"  placeholder="Select Member Name" [ngClass]="{ 'is-invalid': submitted && f.bodyId.errors }"></ngx-select>
                            <div *ngIf="submitted && f.bodyId.errors" class="invalid-feedback">
                                <div *ngIf="f.bodyId.errors.required">Body Member is required</div>
                            </div>
                      
                    </div>
                    <div class="mb-3 chartbox" *ngIf="this.bodyMember.value.bodyId">
                        <div class="card">
                            <div class="card-header pb-0">Member Details</div>
                            <div class="card-body pt-0">
                                <label class="form-label mb-0">Email ID</label>
                                <div class="form-control-plaintext py-0">{{bodyMemberDetails?.Emailid}}</div>
                                <label class="form-label mb-0">Contact No.</label>
                                <div class="form-control-plaintext py-0">{{bodyMemberDetails?.MobileNo}}</div>
                                <label class="form-label mb-0">Location</label>
                                <div class="form-control-plaintext py-0">{{bodyMemberDetails?.DistrictName}}, {{bodyMemberDetails.TalukaName}}, {{bodyMemberDetails.VillageName}}</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-main" (click)="onSubmit()">Assign Member</button>
            </div>
        </form>
        </div>
    </div>
</div>

<!-- View Details Modal -->
<div class="modal fade" id="ViewDetailsModal" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" aria-labelledby="ViewDetailsModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered modal-xl">
        <div class="modal-content">
            <div class="modal-header">
                <h6 class="modal-title" id="ViewDetailsModalLabel">Details</h6>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <div class="row">
                    <div class="col-sm-6 form-container">
                        <div class="row mb-3">
                            <div class="col-sm-6">
                                <label class="form-label">#ID</label>
                                <div id="txtID" class="form-data">1</div>
                            </div>
                            <div class="col-sm-6">
                                <label class="form-label">Post Date</label>
                                <div id="txtPostDate" class="form-data">01-12-2021</div>
                            </div>
                        </div>
                        <div class="mb-3">
                            <label class="form-label">Members Name</label>
                            <div id="txtMembersName" class="form-data">
                                Mr. Anil Kambale
                            </div>
                        </div>
                        <div class="row mb-3">
                            <div class="col-sm-4">
                                <label class="form-label">Work Type</label>
                                <div id="txtWorkType" class="form-data">
                                    WhatsApp
                                </div>
                            </div>
                            <div class="col-sm-4">
                                <label class="form-label">Title</label>
                                <div id="txtTitle" class="form-data">
                                    Get Together
                                </div>
                            </div>
                            <div class="col-sm-4">
                                <label class="form-label">Program</label>
                                <div id="txtProgram" class="form-data">
                                    Get Together
                                </div>
                            </div>
                        </div>
                        <div class="mb-3">
                            <label class="form-label">Description</label>
                            <div id="txtDescription" class="form-data">
                                Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.
                            </div>
                        </div>
                        <div class="mb-3">
                            <label class="form-label">Link URL</label>
                            <div class="form-data">
                                <a href="#">
                                    http://www.google.com/
                                </a>
                            </div>
                        </div>
                    </div>
                    <div class="col-sm-6 form-container">
                        <div class="mb-3">
                            <label class="form-label">Location</label>
                            <img src="https://images.indianexpress.com/2017/05/google-maps-759.jpg" class="img-fluid">
                        </div>

                    </div>
                    <div class="col-sm-12 form-container">
                        <div class="mb-3">
                            <label class="form-label">Photos</label>
                            <div class="row">
                                <div class="col-sm-2 mb-3">
                                    <img src="assets/images/dashboard-images/defaultimg.png" class="img-thumbnail" />
                                </div>
                                <div class="col-sm-2 mb-3">
                                    <img src="assets/images/dashboard-images/defaultimg.png" class="img-thumbnail" />
                                </div>
                                <div class="col-sm-2 mb-3">
                                    <img src="assets/images/dashboard-images/defaultimg.png" class="img-thumbnail" />
                                </div>
                                <div class="col-sm-2 mb-3">
                                    <img src="assets/images/dashboard-images/defaultimg.png" class="img-thumbnail" />
                                </div>
                                <div class="col-sm-2 mb-3">
                                    <img src="assets/images/dashboard-images/defaultimg.png" class="img-thumbnail" />
                                </div>
                                <div class="col-sm-2 mb-3">
                                    <img src="assets/images/dashboard-images/defaultimg.png" class="img-thumbnail" />
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>