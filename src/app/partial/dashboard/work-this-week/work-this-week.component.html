<div class="container-fluid">
    <div class="row mx-1 px-0" id="pageheader">
        <div class="col-sm-3">
            <span class="page-name">Work in this week</span>
        </div>
        <div class="col-sm-9">
            <form [formGroup]="topFilterForm">
                <div class="row g-1 d-flex justify-content-end">

                    <div class="col-sm-3">
                        <ngx-select [allowClear]="true" formControlName="category" (remove)="clearFilter('workType')" (select)="filterData('workType')" [items]="resWorkcategory" optionValueField="Id" optionTextField="Category" placeholder="Select Work Category">
                        </ngx-select>
                    </div>
                    <div class="col-sm-3">
                        <div class="input-group">
                            <div class="input-group">
                                <input [owlDateTime]="dt1" formControlName="fromTo" (dateTimeChange)="getweekRage($event)" class="form-control form-control-sm" [(ngModel)]="dateRange" [selectMode]="'range'" [owlDateTimeTrigger]="dt1" placeholder="Date Time">
                                <owl-date-time #dt1 [pickerType]="'calendar'"></owl-date-time>
                                <button class="btn btn-light btn-sm" type="button" *ngIf="!defaultCloseBtn" [owlDateTimeTrigger]="dt1"> <i class="fas fa-calendar-alt"></i></button>
                                <button class="btn btn-light border btn-sm" type="button" *ngIf="defaultCloseBtn" (click)="clearFilter('dateValue')">
                                    <i class="fas fa-times"></i></button>
                            </div>
                        </div>
                    </div>

                    <div class="col-sm-auto">
                        <button type="button" class="btn btn-secondary rounded btn-sm" (click)="location.back();"><i class="fas fa-arrow-left"></i></button>
                    </div>
                </div>
            </form>
        </div>
    </div>
    <!-- <div class="row">
        <div class="col-sm-12 ">
            <div id="pageheader" class="clearfix">
                <div class="float-start">
                    <span class="page-name">Work This Week</span>
                </div>
                <div class="float-end">
                    <div class="input-group">
                        <input class="form-control rounded me-2" type="text" placeholder="From To" />
                        <ngx-select [allowClear]="true" [items]="allDistrict"
                                    (select)="getTaluka(this.filterBestPer.value.DistrictId)"
                                    (remove)="districtClear('district')" formControlName="DistrictId"
                                    optionValueField="DistrictId" optionTextField="DistrictName"
                                    placeholder="Select District">
                                </ngx-select>
                        <button type="button" class="btn btn-secondary rounded ms-2 btn-sm"
                            (click)="location.back();"><i class="fas fa-arrow-left"></i></button>
                    </div>
                </div>
            </div>

        </div>
    </div> -->

    <div class="row mb-3">
        <div class="col-sm-5 chartbox">
            <div class="card mb-3">
                <div class="card-header">Work done by Members

                    <div class="float-end">
                        <button class="btn btn-sm btn-ligth">
                            <i class="fas fa-map-marked-alt"></i>
                        </button>
                    </div>
                </div>
                <div class="card-body">
                    <div id="mapsvg"></div>
                    <!-- <img src="assets/images/map_maha_m.svg" class="img-fluid mb-4" /> -->

                    <div class="row">
                        <div class="col-sm-6 border-end">
                            <p class="text-success fw-bold mb-1 small">Top Performance</p>
                            <ul class="list-group list-group-flush mb-3">
                                <li class="list-group-item text-success" *ngFor="let topPerformance of WorkDoneByYuvakTP"> 
                                    {{topPerformance.DistrictName}} <a class="text-primary small float-end" (click)="redTocommitteesOnMap(topPerformance.DistrictId)"><i class="fas fa-external-link-alt"></i> </a>
                                    <!--</a> -->
                                </li>
                            </ul>
                        </div>
                        <div class="col-sm-6">
                            <p class="text-danger fw-bold mb-1 small">Bottom Performance</p>
                            <ul class="list-group list-group-flush">
                                <li class="list-group-item text-danger" *ngFor="let bottomPerformance of WorkDoneByYuvakBP">
                                    {{bottomPerformance.DistrictName}}<a class="text-primary small float-end" (click)="redTocommitteesOnMap(bottomPerformance.DistrictId)"><i class="fas fa-external-link-alt"></i> </a>
                                    <!--</a>  -->
                                </li>

                            </ul>
                        </div>
                    </div>
                </div>
            </div>

            <div class="card">
                <div class="card-header">
                    <div class="row g-2">
                        <div class="col-sm-6">
                            Performance By Committees
                        </div>
                        <div class="col-sm-6 text-end">
                            <div class="form-check form-check-inline" *ngFor="let bestWorst of bestWorstArray">
                                <input class="form-check-input" name="IsBody" type="radio" id="chkIsMultipleYes" [value]="bestWorst.id" [checked]="bestWorst.id ==  defultCategoryName" (change)="bestWorstPer(bestWorst)">
                                <label class="form-check-label" for="chkIsMultipleYes">{{bestWorst.name}}</label>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="card-body">

                    <table class="table table-hover">
                        <thead>
                            <tr>
                                <th>Sr. No.</th>
                                <th>Committee Name</th>
                                <th>Location</th>
                                <th>Work Count</th>

                            </tr>
                        </thead>
                        <tbody>
                            <tr *ngFor="let result of resBestPerKaryMember; let i = index">
                                <td>{{i+1}}</td>
                                <td><a class="text-primary" (click)="redirectOrgDetails(result.BodyId,result.BodyOrgCellName)">{{result.BodyOrgCellName}}</a></td>
                                <td>{{result.Area}}</td>
                                <td>{{result.Totalwork}}</td>
                            </tr>
                            <tr *ngIf="resBestPerKaryMember?.length == 0">
                                <td colspan="4">
                                    <div class="alert alert-danger text-center py-2 mb-0">No Data Found..!</div>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
        <div class="col-sm-7 chartbox">
            <div class="card mb-3">
                <div class="card-header pb-0">Work done by Members</div>
                <div class="card-body p-2 pt-0 WorkDoneByYuvak chartfont h-400">
                </div>
            </div>
            <div class="card">
                <div class="card-header">
                    <form [formGroup]="filterBestPer">
                        <div class="row g-2">
                            <div class="col-sm-6">
                                Best Performance
                            </div>
                            <div class="col-sm-6 text-end">
                                <div class="form-check form-check-inline" *ngFor="let PerformanceCat of bestPerCat">
                                    <input class="form-check-input" name="IsBody" type="radio" id="chkIsMultipleYes" [value]="PerformanceCat.id" formControlName="IsBody" [checked]="PerformanceCat.id ==  defultCategoryName" (change)="catChange(PerformanceCat)">
                                    <label class="form-check-label" for="chkIsMultipleYes">{{PerformanceCat.name}}</label>
                                </div>
                                <!-- <div class="form-check form-check-inline">
                                    <input class="form-check-input" type="radio" name="rblWise" id="rbCommittee" value="Committee">
                                    <label class="form-check-label" for="rbCommittee">Committee</label>
                                </div>
                                <div class="form-check form-check-inline">
                                    <input class="form-check-input" type="radio" name="rblWise" id="rbLocation" value="Location">
                                    <label class="form-check-label" for="rbLocation">Location</label>
                                </div> -->
                            </div>
                        </div>
                        <div class="row g-2" *ngIf="catValue != 'Committee'">
                            <div class="col-md-4 offset-4">
                                <ngx-select [allowClear]="true" [items]="allDistrict" (select)="filterData('district')" (remove)="clearFilter('district')" formControlName="DistrictId" optionValueField="DistrictId" optionTextField="DistrictName" placeholder="Select District">
                                </ngx-select>
                            </div>
                            <div class="col-md-4">
                                <ngx-select [allowClear]="true" [items]="getTalkaByDistrict" (select)="filterData('talka')" (remove)="clearFilter('taluka')" optionValueField="TalukaId" optionTextField="TalukaName" formControlName="TalukaId" placeholder="Select Taluka" [disabled]="!this.filterBestPer.value.DistrictId">
                                </ngx-select>
                            </div>
                            <!-- <div class="col-md-4">
                                <ngx-select [allowClear]="true" [items]="resultVillageOrCity" (remove)="districtClear('village')" placeholder="Select village" optionValueField="VillageId" optionTextField="VillageName" formControlName="VillageId" [disabled]="!this.filterBestPer.value.TalukaId"
                                    (select)="getVillByTaluka(this.filterBestPer.value.VillageId)">
                                </ngx-select>
                            </div> -->
                        </div>
                        <div class="row g-2" *ngIf="catValue == 'Committee'">
                            <div class="col-md-6 offset-6">
                                <ngx-select [allowClear]="true" [items]="memberNameArray" (select)="filterData('committee')" optionValueField="Id" formControlName="BodyId" optionTextField="BodyOrgCellName" (remove)="clearFilter('committee')" placeholder="Select Committee Name">
                                </ngx-select>
                            </div>
                        </div>
                    </form>
                </div>
                <div class="card-body">
                    <table class="table table-hover">
                        <thead>
                            <tr>
                                <th>Sr. No.</th>
                                <th>Member Name</th>
                                <th>Political Work</th>
                                <th>News</th>
                                <th>Social Media Help</th>
                                <th>Personal Help</th>
                                <th>Party Program</th>
                            </tr>
                        </thead>
                        <tbody>

                            <tr *ngFor="let result of resultBestPerKaryMember; let i = index">
                                <td>{{i+1}}</td>
                                <td><a class="text-primary" (click)="redToMemberProfile(result.MemberId, result.FullName)">{{result.FullName}}</a></td>
                                <td>{{result.PoliticalCount}}</td>
                                <!-- <td>{{result.Totalwork}}</td> -->
                                <td>{{result.NewsLetterCount}}</td>
                                <td>{{result.SocialMediaCount}}</td>
                                <td>{{result.HelpCount}}</td>
                                <td>{{result.PartyProgramCount}}</td>
                            </tr>
                            <tr *ngIf="resultBestPerKaryMember?.length == 0">
                                <td colspan="7">
                                    <div class="alert alert-danger text-center py-2 mb-0">No Data Found..!</div>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>
</div>