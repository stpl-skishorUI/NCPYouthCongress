<div class="container-fluid">
    <div class="row mx-1 px-0" id="pageheader">
        <div class="col-sm-4">
            <span class="page-name">Feedbacks</span>
        </div>
        <div class="col-sm-8">
            <form [formGroup]="filterForm">
                <div class="row g-1">
                    <div class="col-md-3">
                        <ngx-select [allowClear]="true" [items]="allDistrict" (select)="getTaluka(this.filterForm.value.DistrictId)" (remove)="districtClear('district')" formControlName="DistrictId" optionValueField="DistrictId" optionTextField="DistrictName" placeholder="Select District">
                        </ngx-select>

                    </div>
                    <div class="col-md-3">
                        <ngx-select [allowClear]="true" [items]="getTalkaByDistrict" (remove)="districtClear('taluka')" optionValueField="TalukaId" optionTextField="TalukaName" formControlName="TalukaId" placeholder="Select Taluka" (select)="getVillageOrCity(this.filterForm.value.TalukaId)"
                            [disabled]="!this.filterForm.value.DistrictId">
                        </ngx-select>
                    </div>
                    <div class="col-md-3">
                        <ngx-select [allowClear]="true" [items]="resultVillageOrCity" (remove)="districtClear('village')" placeholder="Select village" optionValueField="VillageId" optionTextField="VillageName" formControlName="VillageId" [disabled]="!this.filterForm.value.TalukaId"
                            (select)="getVillByTaluka(this.filterForm.value.VillageId)">
                        </ngx-select>
                    </div>
                    <div class="col-md-3">
                        <ngx-select [allowClear]="true" [items]="memberNameArray" optionValueField="Id" optionTextField="FullName" placeholder="Select Member Name">
                        </ngx-select>
                    </div>
                </div>
            </form>
        </div>
    </div>

    <div class="row chartbox">
        <div class="col-sm-12">
            <div class="card card-body">
                <div class="row" id="email-container">
                    <div class="col-3 border-end">
                        <div class="mb-2">
                            <div class="btn-group btn-block" role="group" aria-label="Basic radio toggle button group">
                                <input type="radio" class="btn-check" name="btnFeedStatus" id="btnradio2" autocomplete="off" checked>
                                <label class="btn btn-outline-success" for="btnradio2" (click)="feedBackDataResult('New')"><i class="fas fa-eye me-1"></i>All</label>

                                <!-- <input type="radio" class="btn-check" name="btnFeedStatus" id="btnradio1" autocomplete="off">
                                <label class="btn btn-outline-primary" for="btnradio1" (click)="feedBackDataResult('New')"><i class="fas fa-star me-1" ></i>New</label> -->

                                <input type="radio" class="btn-check" name="btnFeedStatus" id="btnradio4" autocomplete="off">
                                <label class="btn btn-outline-info" for="btnradio4" (click)="feedBackDataResult('Replied')"><i class="fas fa-comment-dots me-1" ></i>Replied</label>

                                <input type="radio" class="btn-check" name="btnFeedStatus" id="btnradio3" autocomplete="off">
                                <label class="btn btn-outline-danger" for="btnradio3" (click)="feedBackDataResult('Ignored')"><i class="fas fa-thumbs-down me-1" ></i>Ignored</label>
                            </div>
                        </div>

                        <div class="list-group list-group-flush" id="list-tab" role="tablist">
                            <a *ngFor="let result of resultAllFeedBackData | paginate: { itemsPerPage: 10, currentPage: paginationNo, totalItems:total  }" class="list-group-item list-group-item-action active" id="list-home-list" (click)="details(result)" [class.active]="result.SrNo == HighlightRow"
                                data-bs-toggle="list" href="#list-home" role="tab" aria-controls="list-home">
                                <div class="d-flex w-100 justify-content-between">
                                    <p class="membername mb-1 fw-bold" [ngClass]="{'fw-light':result.FeedbackStatus == 1, 'text-info':result.FeedbackStatus==2, 'text-danger':result.FeedbackStatus==3}"> {{result.FullName | titlecase}}</p>
                                    <small class="feeddate ">{{result.FeedbackDate}} - {{result.FeedbackTime}}</small>
                                </div>
                                <!-- [ngClass]="{'text-success':result.FeedbackStatus == '1'}"  [ngClass]="{ 'text-info':result.FeedbackStatus==1 , 'text-warning': paymentStatus=='pending' , 'text-danger':paymentStatus=='failed' , 'text-danger1':paymentStatus=='failure' } " -->
                                <small class="comment ">{{result.Feedback}}</small>
                            </a>
                            <div class="mt-2 text-right float-lg-end " *ngIf="resultAllFeedBackData?.length !=0 ">
                                <!-- <pagination-controls previousLabel="" nextLabel="" (pageChange)="onClickPagintion(pageSize=$ event)"> </pagination-controls> -->
                                <pagination-controls previousLabel="" nextLabel="" (pageChange)="onClickPagintion(pageSize = $event)"> </pagination-controls>
                            </div>

                        </div>
                    </div>
                    <div class="col-9 ">
                        <div class="tab-content " id="nav-tabContent " *ngIf="defualtHideFeedback">
                            <div class="tab-pane fade show active " id="list-home " role="tabpanel " aria-labelledby="list-home-list ">
                                <div class="border-bottom mb-2 pb-1 ">
                                    <span class="emailname ">{{detailsData.FullName}}</span>
                                    <span class="float-end emaildate ">
                                        <i class="far fa-calendar-alt me-1 "></i> {{detailsData.FeedbackDate}}
                                    </span>
                                </div>
                                <div class="mb-3 pb-1 emailcontact ">
                                    <i class="far fa-envelope me-1 "></i>
                                    <span class="float-end ">
                                        <i class="fas fa-phone-alt me-1 "></i> {{detailsData.Mobileno}}
                                    </span>
                                </div>
                                <div class="mb-3 pb-1 ">
                                    <p class="small text-muted mb-1 lblfeedback ">Message :</p>
                                    <div class="card card-body border shadow-none mb-2" *ngFor="let msg of resultAllFeedBackDetails ">
                                        <span class="feedback ">{{msg.ReplyMessage | titlecase}}</span>
                                    </div>
                                </div>
                                <!-- .statusId -->
                                <ng-container *ngIf="detailsData.FeedbackStatus != 3">
                                    <div class="mb-3 ">
                                        <div class="form-floating ">
                                            <textarea class="form-control " placeholder="Reply to comment here " #txtReply rows="4 "></textarea>
                                            <label for="floatingTextarea2 ">Action taken</label>
                                        </div>
                                    </div>
                                    <div class="text-end ">
                                        <button class="btn btn-danger me-1 " type="submit " (click)="insertFeebackReply(txtReply.value, 'Ignore', detailsData.Id, detailsData.FeedbackStatus) ">Ignore</button>
                                        <button class="btn btn-main " type="submit " (click)="insertFeebackReply(txtReply.value, 'Reply', detailsData.Id, detailsData.FeedbackStatus) ">Reply</button>
                                    </div>
                                </ng-container>
                            </div>
                            <div class="tab-pane fade " id="list-profile " role="tabpanel " aria-labelledby="list-profile-list ">2</div>
                            <div class="tab-pane fade " id="list-messages " role="tabpanel " aria-labelledby="list-messages-list ">3</div>
                            <div class="tab-pane fade " id="list-settings " role="tabpanel " aria-labelledby="list-settings-list ">4</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>